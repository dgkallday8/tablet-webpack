!function(){"use strict";function n(){var n,e;f.style.display="block",n=function(n,e){return n>e?"&#9650;":"&#9660;"},(e=new XMLHttpRequest).open("GET","https://www.cbr-xml-daily.ru/daily_json.js",!0),e.onload=function(){if(200===e.status){var t=JSON.parse(e.responseText);display.innerHTML='\n                <div class="rate">\n                    <div class="rate-block">\n                        <div class="valute">\n                            <p>'.concat(t.Valute.EUR.Name,": </p>\n                            <p>").concat(t.Valute.EUR.Value," руб.</p>\n                            <p>").concat(n(t.Valute.EUR.Previous,t.Valute.EUR.Value),'</p>\n                        </div>\n                        <div class="valute">\n                            <p>').concat(t.Valute.USD.Name,": </p>\n                            <p>").concat(t.Valute.USD.Value," руб.</p>\n                            <p>").concat(n(t.Valute.USD.Previous,t.Valute.USD.Value),'</p>\n                        </div>\n                        <div class="valute">\n                            <p>').concat(t.Valute.CNY.Name,": </p>\n                            <p>").concat(t.Valute.CNY.Value," руб.</p>\n                            <p>").concat(n(t.Valute.CNY.Previous,t.Valute.CNY.Value),"</p>\n                        </div>\n                    </div>\n                </div>\n            ")}},e.send()}function e(){var n=document.forms.weatherCity;n.addEventListener("submit",(function(e){e.preventDefault();var t,a,r,o,i=n.city.value;t=i.trim(),a="a62e19be51e2d4a10ac473cf6ef0b1d3",r="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(a,"&units=metric"),(o=new XMLHttpRequest).open("GET",r,!0),o.onload=function(){if(200===o.status){var n=JSON.parse(o.responseText);console.log(n),p.innerHTML='\n                <div class="temperature">\n                    <div class="block">\n                        <h3>'.concat(n.name," (").concat(n.sys.country,')</h3>\n                        <div class="weather_img"><img src="https://openweathermap.org/img/wn/').concat(n.weather[0].icon,'.png"" alt="weather"></div>\n                        <div class="weather_block">\n                            <p>Температура, <sup>o</sup>C:</p>\n                            <p>').concat(Math.round(n.main.temp),'</p>\n                        </div>\n                        <div class="weather_block">\n                            <p>Ощущается как, <sup>o</sup>C:</p>\n                            <p>').concat(Math.round(n.main.feels_like),'</p>\n                        </div>\n                        <div class="weather_block">\n                            <p>Направление ветра:</p> \n                            <p>').concat((e=n.wind.deg,e<=22.5?"Северное":e<=67.5?"Северо-Восточное":e<=112.5?"Востоное":e<=157.5?"Юго-Восточное":e<=202.5?"Южное":e<=247.5?"Юго-Западное":e<=292.5?"Западное":e<=337.5?"Северо-Западное":e<=360?"Северное":void 0),'</p>\n                        </div>\n                        <div class="weather_block">\n                            <p>Скорость ветра, м/с:</p>\n                            <p>').concat(n.wind.speed,'</p>\n                        </div>\n                        <div class="weather_block">\n                            <p>Влажность, %:</p>\n                            <p>').concat(n.main.humidity,"</p>\n                        </div>\n                    </div>\n                </div>\n            ")}else console.log("нет такого"),p.innerHTML='\n                \n                <div class="weatherEr">\n                    <h3>Не найдено такого</h3>\n                    <p>Попробуйте еще раз</p>\n                </div>\n            ';var e},o.send(),n.city.value=""}))}function t(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return l=n.done,n},e:function(n){c=!0,i=n},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw i}}}}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}var r=document.body;function o(n){r.style.background='url("img/'.concat(n,'.jpg")'),r.style.backgroundSize="cover"}function i(){var n,e=t(form.elements.background);try{var a=function(){var e=n.value;e.addEventListener("focus",(function(){switch(e.value){case"wood":o("wood");break;case"night":o("night");break;case"meadow":o("meadow");break;case"space":o("space")}}))};for(e.s();!(n=e.n()).done;)a()}catch(n){e.e(n)}finally{e.f()}}function l(){var n=form.elements.color,e=document.getElementById("colorVal"),t=document.getElementById("tablet");e.addEventListener("change",(function(){t.style.background=n.value}))}var c=function(t){switch(t.target.dataset.type){case"rate":n(),console.log("курс валют");break;case"weather":display.innerHTML=(f.style.display="block",'\n        <div class="weather" id="weather">\n            <form action="#" name="weatherCity">\n                <label for="city">Введите город </label>\n                <input type="text" name="city" id="city">\n                <input type="submit" value="Узнать погоду">\n            </form>\n            <div id="resultWeather" class="resultWeather"></div>\n        </div>\n    '),e(),console.log("погода");break;case"back":y(),console.log("назад");break;case"settings":document.forms.form;display.innerHTML=(f.style.display="block",'\n        <div id="settings" class="settings display-size">\n            <form action="#" name="form" class="setting_form">\n                <fieldset class="setBack">\n                    <p>Фон</p>\n                    <div>\n                        <label><input value="wood" name="background" type="radio">&nbsp; &nbsp;Дерево</label>\n                        <label><input value="night" name="background" type="radio">&nbsp; &nbsp;Ночь</label>\n                        <label><input value="meadow" name="background" type="radio">&nbsp; &nbsp;Луг</label>\n                        <label><input value="space" name="background" type="radio">&nbsp; &nbsp;Космос</label>\n                    </div>\n                </fieldset>\n                <fieldset>\n                    <div id="colorVal">\n                        <p>Цвет планшета</p>\n                        <input name="color" type="color">\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    '),i(),l(),console.log("настройки");break;default:display.innerHTML='\n        <div class="errorPage">\n            <h2>Что-то пошло не так</h2>\n            <p>Перезагрузите страницу</p>\n        </div>\n    ',console.log("ошибка что то не так")}};function s(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var a=0,r=function(){};return{s:r,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return i=n.done,n},e:function(n){l=!0,o=n},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}var d=function(){var n=document.querySelectorAll("li");f.addEventListener("click",c);var e,t=s(n);try{for(t.s();!(e=t.n()).done;){e.value.addEventListener("click",c)}}catch(n){t.e(n)}finally{t.f()}},p=document.getElementById("display"),v=document.getElementById("btn"),f=document.getElementById("back"),y=function(){f.style.display="none",p.innerHTML='\n        <div class="menu">\n            <ul class="menu-list">\n                <li data-type="rate">\n                    Курс валют\n                </li>\n                <li data-type="weather">\n                    Погода\n                </li>\n                <li data-type="settings">\n                    Настройки\n                </li>\n            </ul>\n        </div>\n    ',f.removeEventListener("click",c),d()};v.addEventListener("click",(function(){return p.classList.contains("off")?(p.classList.remove("off"),p.classList.add("on"),v.setAttribute("disabled","disabled"),v.style.background="#5e6163",void setTimeout((function(){v.style.removeProperty("background"),v.removeAttribute("disabled"),p.innerHTML='\n        <div class="menu">\n            <ul class="menu-list">\n                <li data-type="rate">\n                    Курс валют\n                </li>\n                <li data-type="weather">\n                    Погода\n                </li>\n                <li data-type="settings">\n                    Настройки\n                </li>\n            </ul>\n        </div>\n    ',d()}),1200)):(p.classList.remove("on"),p.classList.add("off"),p.innerHTML="",v.style.background="#5e6163",f.style.display="none",void setTimeout((function(){v.style.removeProperty("background")}),500))}))}();